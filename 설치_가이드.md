# 🚀 NK Voice App 설치 및 실행 가이드
## 코딩을 모르는 분들을 위한 상세 설명서

안녕하세요! 이 가이드는 코딩 경험이 없어도 NK Voice App을 설치하고 실행할 수 있도록 도와드립니다.

---

## 📋 목차
1. [필요한 프로그램 설치](#1-필요한-프로그램-설치)
2. [프로젝트 다운로드 및 압축 해제](#2-프로젝트-다운로드-및-압축-해제)
3. [API 키 발급받기](#3-api-키-발급받기)
4. [환경 설정하기](#4-환경-설정하기)
5. [프로그램 실행하기](#5-프로그램-실행하기)
6. [문제 해결](#6-문제-해결)

---

## 1️⃣ 필요한 프로그램 설치

### 1-1. VS Code 설치 (코드 편집기)
1. **웹브라우저에서 [VS Code 공식 사이트](https://code.visualstudio.com/) 접속**
2. **파란색 "Download for Windows" (또는 macOS) 버튼 클릭**
3. **다운로드된 파일 실행하여 설치**
4. **설치 완료 후 VS Code 실행**

### 1-2. Anaconda 설치 (Python 환경)
1. **웹브라우저에서 [Anaconda 공식 사이트](https://www.anaconda.com/products/distribution) 접속**
2. **"Download" 버튼 클릭**
3. **운영체제에 맞는 버전 선택:**
   - Windows: "64-Bit Graphical Installer" 다운로드
   - macOS: "64-Bit Graphical Installer (.pkg)" 다운로드
4. **다운로드된 파일 실행하여 설치**
5. **설치 중 "Add Anaconda to PATH" 체크박스 반드시 선택**
6. **설치 완료 후 컴퓨터 재부팅**

### 1-3. Node.js 설치
1. **웹브라우저에서 [Node.js 공식 사이트](https://nodejs.org/) 접속**
2. **"LTS" 버전 다운로드 (더 안정적)**
3. **다운로드된 파일 실행하여 설치**
4. **설치 완료 후 확인**

---

## 2️⃣ 프로젝트 다운로드 및 압축 해제

### 2-1. 프로젝트 압축 해제
1. **받은 `NK_Voice_App.zip` 파일을 원하는 폴더에 저장**
2. **zip 파일을 우클릭 → "압축 해제" 또는 "Extract All" 선택**
3. **압축 해제할 폴더 선택 후 "압축 해제" 클릭**
4. **`NK_Voice_App` 폴더가 생성되었는지 확인**

### 2-2. VS Code에서 프로젝트 열기
1. **VS Code 실행**
2. **`File` → `Open Folder` 클릭**
3. **압축 해제한 `NK_Voice_App` 폴더 선택**
4. **`Select Folder` 클릭**

---

## 3️⃣ API 키 발급받기

### 3-1. OpenAI API 키 (AI 대화 기능)
1. **웹브라우저에서 [OpenAI 웹사이트](https://platform.openai.com/) 접속**
2. **"Sign up" 또는 "Log in" 클릭하여 계정 생성/로그인**
3. **로그인 후 왼쪽 메뉴에서 "API Keys" 클릭**
4. **"Create new secret key" 버튼 클릭**
5. **API 키 이름 입력 (예: "NK Voice App")**
6. **생성된 API 키를 복사하여 안전한 곳에 저장**
7. **⚠️ 중요: API 키는 한 번만 표시되므로 반드시 복사해서 저장하세요!**

### 3-2. ElevenLabs API 키 (음성 합성 기능)
**⚠️ 이미 설정된 API 키를 사용합니다:**
- **API Key**: sk_6a01d47077c6dc00e7faa6fa0e4395798dec250aefd0a4cd
- **Voice ID**: BNr4zvrC1bGIdIstzjFQ

**💡 참고**: 이 프로젝트에는 이미 ElevenLabs API 키가 설정되어 있어서 별도로 발급받을 필요가 없습니다.

---

## 4️⃣ 환경 설정하기

### 4-1. VS Code 터미널 열기
1. **VS Code에서 `Ctrl + `` (백틱, 숫자 1 왼쪽 키) 누르기**
2. **또는 상단 메뉴 `Terminal` → `New Terminal` 클릭**
3. **하단에 터미널이 열림**

### 4-2. Python 가상환경 설정
터미널에서 다음 명령어들을 **하나씩** 입력하고 **Enter** 키 누르기:

```bash
# 1. 가상환경 생성
conda create -n nk_voice python=3.11

# 2. 가상환경 활성화
conda activate nk_voice

# 3. 가상환경이 활성화되었는지 확인
# 터미널 앞에 (nk_voice)가 표시되어야 함
```

### 4-3. Python 패키지 설치
```bash
# 1. backend 폴더로 이동
cd backend

# 2. 필요한 패키지들 설치
pip install -r requirements.txt

# 3. 설치 완료 확인
pip list
```

### 4-4. Node.js 패키지 설치
```bash
# 1. frontend 폴더로 이동
cd ../frontend

# 2. pnpm 설치
npm install -g pnpm

# 3. 프로젝트 의존성 설치
pnpm install
```

### 4-5. 환경 변수 파일 생성
```bash
# 1. backend 폴더로 이동
cd ../backend

# 2. .env 파일 생성
touch .env

# 3. frontend 폴더로 이동
cd ../frontend

# 4. .env 파일 생성
touch .env
```

### 4-6. API 키 설정
**Backend `.env` 파일 설정:**
1. **VS Code에서 `.env` 파일 클릭**
2. **다음 내용을 복사하여 붙여넣기:**

```env
# OpenAI API Key
OPENAI_API_KEY="sk-your-openai-api-key-here"

# ElevenLabs API Key
ELEVENLABS_API_KEY="sk_6a01d47077c6dc00e7faa6fa0e4395798dec250aefd0a4cd"

# ElevenLabs Voice ID
ELEVENLABS_VOICE_ID="BNr4zvrC1bGIdIstzjFQ"
```

3. **`sk-your-openai-api-key-here` 부분을 실제 OpenAI API 키로 교체**
4. **ElevenLabs API 키는 이미 설정되어 있음**
5. **`Ctrl + S`로 저장**

**Frontend `.env.local` 파일 설정:**
1. **VS Code에서 `frontend` 폴더의 `.env.local` 파일 클릭**
2. **다음 내용을 복사하여 붙여넣기:**

```env.local
VITE_BACKEND_API_URL=http://localhost:8000
```

3. **`Ctrl + S`로 저장**

### 4-7. Ngrok 설정 (외부 접속용)
**⚠️ 중요: 외부에서 접속하려면 Ngrok 설정이 필요합니다**

#### 4-7-1. Ngrok 계정 생성
1. **웹브라우저에서 [Ngrok 웹사이트](https://ngrok.com/) 접속**
2. **"Sign up for free" 클릭하여 계정 생성**
3. **이메일과 비밀번호 입력하여 회원가입**
4. **이메일 인증 완료**

#### 4-7-2. Ngrok Static Domain 확인
1. **Ngrok 로그인 후 [Dashboard](https://dashboard.ngrok.com/) 접속**
2. **왼쪽 메뉴에서 "Cloud Edge" → "Domains" 클릭**
3. **생성된 static domain 확인 (예: `my-voice-app.ngrok-free.app`)**
4. **이 주소를 메모해두기**

#### 4-7-3. Ngrok 설치 및 인증
**macOS 사용자:**
```bash
# 1. Ngrok 다운로드
curl -O https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-darwin-amd64.zip

# 2. 압축 해제
unzip ngrok-v3-stable-darwin-amd64.zip

# 3. 실행 파일을 시스템 경로로 이동
sudo mv ngrok /usr/local/bin

# 4. 인증 토큰 설정 (Dashboard에서 복사)
ngrok config add-authtoken YOUR_AUTHTOKEN_HERE
```

**Windows 사용자:**
1. **Ngrok 다운로드 페이지에서 Windows 버전 다운로드**
2. **압축 해제 후 `ngrok.exe`를 프로젝트 폴더에 복사**

#### 4-7-4. 환경 변수에 Ngrok 주소 추가
**Frontend `.env.local` 파일에 추가:**
```env.local
VITE_BACKEND_API_URL=http://localhost:8000
VITE_NGROK_STATIC_DOMAIN=your-static-domain.ngrok-free.app
```

**⚠️ 주의사항:**
- `your-static-domain.ngrok-free.app` 부분을 실제 Ngrok Dashboard에서 확인한 static domain으로 교체
- 예시: `my-voice-app.ngrok-free.app` → `VITE_NGROK_STATIC_DOMAIN=my-voice-app.ngrok-free.app`

---

## 5️⃣ 프로그램 실행하기

### 5-1. 실행 권한 설정
터미널에서:
```bash
# 1. 프로젝트 루트로 이동
cd ..

# 2. 실행 스크립트에 권한 부여
chmod +x start-backend.sh
chmod +x start-frontend.sh
chmod +x start-ngrok.sh
```

터미널 3개를 켜고, 각각에 하나씩 입력
./start-backend.sh
./start-frontend.sh
./start-ngrok.sh

그 다음에, ngrok 실행한 터미널의 이상한 숫자.ngrok-free.app 링크를 사용자한테 주면 사용가능!